function Util(){}if(Util.hasClass=function(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},Util.addClass=function(e,t){var n=t.split(" ");e.classList?e.classList.add(n[0]):Util.hasClass(e,n[0])||(e.className+=" "+n[0]),n.length>1&&Util.addClass(e,n.slice(1).join(" "))},Util.removeClass=function(e,t){var n=t.split(" ");if(e.classList)e.classList.remove(n[0]);else if(Util.hasClass(e,n[0])){var o=new RegExp("(\\s|^)"+n[0]+"(\\s|$)");e.className=e.className.replace(o," ")}n.length>1&&Util.removeClass(e,n.slice(1).join(" "))},Util.toggleClass=function(e,t,n){n?Util.addClass(e,t):Util.removeClass(e,t)},Util.setAttributes=function(e,t){for(var n in t)e.setAttribute(n,t[n])},Util.getChildrenByClassName=function(e,t){e.children;for(var n=[],o=0;o<e.children.length;o++)Util.hasClass(e.children[o],t)&&n.push(e.children[o]);return n},Util.is=function(e,t){if(t.nodeType)return e===t;for(var n="string"==typeof t?document.querySelectorAll(t):t,o=n.length;o--;)if(n[o]===e)return!0;return!1},Util.setHeight=function(e,t,n,o,s){var i=t-e,r=null,l=function(t){r||(r=t);var a=t-r,c=parseInt(a/o*i+e);n.style.height=c+"px",a<o?window.requestAnimationFrame(l):s()};n.style.height=e+"px",window.requestAnimationFrame(l)},Util.scrollTo=function(e,t,n,o){var s=o||window,i=s.scrollTop||document.documentElement.scrollTop,r=null;o||(i=window.scrollY||document.documentElement.scrollTop);var l=function(o){r||(r=o);var a=o-r;a>t&&(a=t);var c=Math.easeInOutQuad(a,i,e-i,t);s.scrollTo(0,c),a<t?window.requestAnimationFrame(l):n&&n()};window.requestAnimationFrame(l)},Util.moveFocus=function(e){e||(e=document.getElementsByTagName("body")[0]),e.focus(),document.activeElement!==e&&(e.setAttribute("tabindex","-1"),e.focus())},Util.getIndexInArray=function(e,t){return Array.prototype.indexOf.call(e,t)},Util.cssSupports=function(e,t){return"CSS"in window?CSS.supports(e,t):e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})in document.body.style},Util.extend=function(){var e={},t=!1,n=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(var s=function(n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t&&"[object Object]"===Object.prototype.toString.call(n[o])?e[o]=extend(!0,e[o],n[o]):e[o]=n[o])};n<o;n++){s(arguments[n])}return e},Util.osHasReducedMotion=function(){if(!window.matchMedia)return!1;var e=window.matchMedia("(prefers-reduced-motion: reduce)");return!!e&&e.matches},Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),"function"!=typeof window.CustomEvent){function CustomEvent(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent}Math.easeInOutQuad=function(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},function(){var e=document.getElementsByClassName("js-tab-focus");function t(){e.length>0&&(o(!1),window.addEventListener("keydown",n)),window.removeEventListener("mousedown",t)}function n(e){9===e.keyCode&&(o(!0),window.removeEventListener("keydown",n),window.addEventListener("mousedown",t))}function o(t){for(var n=t?"":"none",o=0;o<e.length;o++)e[o].style.setProperty("outline",n)}window.addEventListener("mousedown",t)}();
document.getElementById("themeSwitch").addEventListener("change",function(e){e.target.checked?document.body.setAttribute("data-theme","dark"):document.body.removeAttribute("data-theme")});
!function(){var n=document.getElementsByClassName("js-anim-menu-btn");if(n.length>0){for(var t=0;t<n.length;t++)!function(t){var e;(e=n[t]).addEventListener("click",function(n){n.preventDefault();var t=!Util.hasClass(e,"anim-menu-btn--state-b");Util.toggleClass(e,"anim-menu-btn--state-b",t);var n=new CustomEvent("anim-menu-btn-clicked",{detail:t});e.dispatchEvent(n)})}(t)}}();
!function(){var e=function(e){this.element=e,this.content=document.getElementsByClassName("js-drawer__body")[0],this.triggers=document.querySelectorAll('[aria-controls="'+this.element.getAttribute("id")+'"]'),this.firstFocusable=null,this.lastFocusable=null,this.selectedTrigger=null,this.isModal=Util.hasClass(this.element,"js-drawer--modal"),this.showClass="drawer--is-visible",this.initDrawer()};e.prototype.initDrawer=function(){var e=this;if(this.triggers)for(var t=0;t<this.triggers.length;t++)this.triggers[t].addEventListener("click",function(t){t.preventDefault(),Util.hasClass(e.element,e.showClass)?e.closeDrawer(t.target):(e.selectedTrigger=t.target,e.showDrawer(),e.initDrawerEvents())});Util.hasClass(this.element,this.showClass)&&this.initDrawerEvents()},e.prototype.showDrawer=function(){var e=this;this.content.scrollTop=0,Util.addClass(this.element,this.showClass),this.getFocusableElements(),Util.moveFocus(this.element),this.element.addEventListener("transitionend",function t(s){Util.moveFocus(e.element),e.element.removeEventListener("transitionend",t)}),this.emitDrawerEvents("drawerIsOpen",this.selectedTrigger)},e.prototype.closeDrawer=function(e){Util.removeClass(this.element,this.showClass),this.firstFocusable=null,this.lastFocusable=null,this.selectedTrigger&&this.selectedTrigger.focus(),this.cancelDrawerEvents(),this.emitDrawerEvents("drawerIsClose",e)},e.prototype.initDrawerEvents=function(){this.element.addEventListener("keydown",this),this.element.addEventListener("click",this)},e.prototype.cancelDrawerEvents=function(){this.element.removeEventListener("keydown",this),this.element.removeEventListener("click",this)},e.prototype.handleEvent=function(e){switch(e.type){case"click":this.initClick(e);case"keydown":this.initKeyDown(e)}},e.prototype.initKeyDown=function(e){e.keyCode&&27==e.keyCode||e.key&&"Escape"==e.key?this.closeDrawer(!1):this.isModal&&(e.keyCode&&9==e.keyCode||e.key&&"Tab"==e.key)&&this.trapFocus(e)},e.prototype.initClick=function(e){(e.target.closest(".js-drawer__close")||Util.hasClass(e.target,"js-drawer"))&&(e.preventDefault(),this.closeDrawer(e.target))},e.prototype.trapFocus=function(e){this.firstFocusable==document.activeElement&&e.shiftKey&&(e.preventDefault(),this.lastFocusable.focus()),this.lastFocusable!=document.activeElement||e.shiftKey||(e.preventDefault(),this.firstFocusable.focus())},e.prototype.getFocusableElements=function(){var e=this.element.querySelectorAll('[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]), [contenteditable], audio[controls], video[controls], summary');this.getFirstVisible(e),this.getLastVisible(e)},e.prototype.getFirstVisible=function(e){for(var t=0;t<e.length;t++)if(e[t].offsetWidth||e[t].offsetHeight||e[t].getClientRects().length)return this.firstFocusable=e[t],!0},e.prototype.getLastVisible=function(e){for(var t=e.length-1;t>=0;t--)if(e[t].offsetWidth||e[t].offsetHeight||e[t].getClientRects().length)return this.lastFocusable=e[t],!0},e.prototype.emitDrawerEvents=function(e,t){var s=new CustomEvent(e,{detail:t});this.element.dispatchEvent(s)};var t=document.getElementsByClassName("js-drawer");if(t.length>0)for(var s=0;s<t.length;s++)!function(s){new e(t[s])}(s)}();
!function(){var e=function(e){this.element=e,this.media=this.element.getElementsByClassName("js-immerse-section-tr__media"),this.scrollContent=this.element.getElementsByClassName("js-immerse-section-tr__content"),this.media.length<1||(this.figure=this.media[0].getElementsByClassName("js-immerse-section-tr__figure"),this.figure.length<1||(this.visibleFigure=!1,this.mediaScale=1,this.mediaInitHeight=0,this.elementPadding=0,this.scrollingFn=!1,this.scrolling=!1,this.active=!1,this.scrollDelta=0,function(e){(function(e){0==parseInt(window.getComputedStyle(e.element).getPropertyValue("padding-top"))&&(e.element.style.paddingTop="1px")})(e),i(e),e.element.addEventListener("update-immerse-section",function(t){i(e)}),new IntersectionObserver(function(e){if(e[0].isIntersecting){if(this.scrollingFn)return;(i=this).scrollingFn=function(){this.scrolling||(this.scrolling=!0,window.requestAnimationFrame(n.bind(this)))}.bind(i),window.addEventListener("scroll",i.scrollingFn)}else{if(!this.scrollingFn)return;window.removeEventListener("scroll",this.scrollingFn),this.scrollingFn=!1}var i}.bind(e)).observe(e.media[0])}(this)))};function i(e){!function(e){e.visibleFigure=!1;for(var i=0;i<e.figure.length;i++)if("none"!=window.getComputedStyle(e.figure[i]).getPropertyValue("display")){e.visibleFigure=e.figure[i];break}}(e),function(e){e.active=!0,e.visibleFigure.offsetHeight>=window.innerHeight&&(e.active=!1);window.innerHeight-e.visibleFigure.offsetHeight>=600&&(e.active=!1)}(e),e.active?(Util.removeClass(e.element,"immerse-section-tr--disabled"),function(e){e.mediaInitHeight=e.visibleFigure.offsetHeight,e.scrollDelta=window.innerHeight-e.visibleFigure.offsetHeight>window.innerWidth-e.visibleFigure.offsetWidth?(window.innerHeight-e.visibleFigure.offsetHeight)/2:(window.innerWidth-e.visibleFigure.offsetWidth)/2,e.scrollDelta>window.innerHeight&&(e.scrollDelta=window.innerHeight);e.scrollDelta<200&&(e.scrollDelta=200);e.media[0].style.height=window.innerHeight+"px",e.media[0].style.paddingTop=(window.innerHeight-e.visibleFigure.offsetHeight)/2+"px",e.media[0].style.marginTop=(e.visibleFigure.offsetHeight-window.innerHeight)/2+"px"}(e),function(e){var i=t(window.innerWidth/e.visibleFigure.offsetWidth),n=t(window.innerHeight/e.visibleFigure.offsetHeight);e.mediaScale=Math.max(i,n),e.elementPadding=parseInt(window.getComputedStyle(e.element).getPropertyValue("padding-top"))}(e),function(e){e.scrollContent.length>0&&(e.scrollContent[0].style.marginTop=e.scrollDelta+"px")}(e),n.bind(e)()):(Util.addClass(e.element,"immerse-section-tr--disabled"),e.media[0].style="",e.scrollContent[0].style="",s(e,1),l(e,0)),e.element.dispatchEvent(new CustomEvent("immersive-section-updated",{detail:{active:e.active,asset:e.visibleFigure}}))}function t(e){return(Math.ceil(100*e)/100).toFixed(2)}function n(){if(this.active){var e=(window.innerHeight-this.mediaInitHeight)/2,i=this.element.getBoundingClientRect().top+this.elementPadding;if(i<e&&i>e-this.scrollDelta)s(this,1+(i-e)*(1-this.mediaScale)/this.scrollDelta),l(this,0);else i>=e?(s(this,1),l(this,0)):(s(this,this.mediaScale),l(this,1.8*(e-this.scrollDelta-i)/window.innerHeight));this.scrolling=!1}}function s(e,i){e.visibleFigure.style.transform="scale("+i+")",e.visibleFigure.style.msTransform="scale("+i+")"}function l(e,i){e.element.style.setProperty("--immerse-section-tr-opacity",i)}var r=document.getElementsByClassName("js-immerse-section-tr"),o=Util.osHasReducedMotion(),a="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype;if(!(r.length<1))if(!o&&a){for(var d=[],g=0;g<r.length;g++)!function(i){d.push(new e(r[i]))}(g);if(d.length>0){var c=!1,h=new CustomEvent("update-immerse-section");function m(){for(var e=0;e<d.length;e++)!function(e){d[e].element.dispatchEvent(h)}(e)}window.addEventListener("resize",function(){clearTimeout(c),c=setTimeout(m,500)})}}else for(g=0;g<r.length;g++)Util.addClass(r[g],"immerse-section-tr--disabled")}();
!function(){var t=function(t,i){this.element=t,this.figure=this.element.getElementsByClassName("js-parallax-img__assets")[0],this.imgs=this.element.getElementsByTagName("img"),this.maxRotation=i||2,this.maxRotation>5&&(this.maxRotation=5),this.scale=1,this.animating=!1,function(t){t.count=0,window.requestAnimationFrame(function t(){this.count>=this.imgs.length?(a=function(t){for(var i=0,a=0,n=0;n<t.imgs.length;n++){var e=t.imgs[n].getBoundingClientRect().width;(e<i||0==n)&&(i=e),(e>a||0==n)&&(a=e)}var s=Math.ceil(10*a/i)/10;s<1.1&&(s=1.1);return s}(i=this),i.scale=a/Math.sin(Math.PI/2-i.maxRotation*Math.PI/180),i.figure.style.transform="scale("+i.scale+")",Util.addClass(i.element,"parallax-img--loaded"),this.loaded&&(window.cancelAnimationFrame(this.loaded),this.loaded=!1)):this.loaded=window.requestAnimationFrame(t.bind(this));var i,a}.bind(t));for(var i=0;i<t.imgs.length;i++)!function(i){var a=!1;t.imgs[i].addEventListener("load",function(){a||(t.count=t.count+1)}),t.imgs[i].complete&&!a&&(a=!0,t.count=t.count+1)}(i)}(this),function(t){t.element.addEventListener("mousemove",function(i){t.animating||(t.animating=!0,window.requestAnimationFrame(function(t,i){var a=this.element.getBoundingClientRect(),n=this.maxRotation/a.width*2*(a.left-t.clientX+a.width/2),e=this.maxRotation/a.height*2*(t.clientY-a.top-a.height/2);n>this.maxRotation&&(n=this.maxRotation);n<-1*this.maxRotation&&(n=-this.maxRotation);e>this.maxRotation&&(e=this.maxRotation);e<-1*this.maxRotation&&(e=-this.maxRotation);this.figure.style.transform="scale("+this.scale+") rotateX("+e+"deg) rotateY("+n+"deg)",this.animating=!1}.bind(t,i)))})}(this)};window.ParallaxImg=t;var i=document.getElementsByClassName("js-parallax-img");if(i.length>0&&Util.cssSupports("transform","translateZ(0px)"))for(var a=0;a<i.length;a++)!function(a){var n=i[a].getAttribute("data-perspective");new t(i[a],n)}(a)}();
!function(){var e,t=document.getElementsByClassName("reveal-fx"),n="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype;if(t.length>0){if(Util.osHasReducedMotion()||!n)return void function(){for(;t[0];){var e=t[0].className.split(" ").filter(function(e){return 0!==e.lastIndexOf("reveal-fx--",0)});t[0].className=e.join(" ").trim(),Util.removeClass(t[0],"reveal-fx")}}();if(e=t[0],"reveal-fx"!=window.getComputedStyle(e,"::before").getPropertyValue("content").replace(/'|"/g,""))return void function(){for(var e=0;e<t.length;e++)Util.addClass(t[e],"reveal-fx--is-visible")}();var i=200,r=window.innerHeight,o=!1,a=[],s=function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].getAttribute("data-reveal-fx-delay")?parseInt(t[n].getAttribute("data-reveal-fx-delay")):0);return e}(),l=function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].getAttribute("data-reveal-fx-delta")?parseInt(t[n].getAttribute("data-reveal-fx-delta")):i);return e}();window.addEventListener("load",v),window.addEventListener("resize",u);var f=[];function u(){o||(o=!0,window.requestAnimationFrame?window.requestAnimationFrame(d):setTimeout(function(){d()},250))}function d(){r=window.innerHeight,v()}function v(){for(var e=0;e<t.length;e++)!function(e){-1==a.indexOf(e)&&w(t[e],e)&&(c(e),a.push(e))}(e);x(),o=!1}function c(e){s[e]&&0!=s[e]?setTimeout(function(){Util.addClass(t[e],"reveal-fx--is-visible")},s[e]):Util.addClass(t[e],"reveal-fx--is-visible")}function g(e){var n=Util.getIndexInArray(t,e);-1==a.indexOf(n)&&(c(n),a.push(n),x(),o=!1)}function w(e,t){return function(e){return e.getBoundingClientRect().top}(e)<=r-l[t]}function x(){t.length>a.length||(window.removeEventListener("load",v),window.removeEventListener("resize",u))}!function(){for(var e=0;e<t.length;e++)f[e]=new IntersectionObserver(function(e,t){e[0].isIntersecting&&(g(e[0].target),t.unobserve(e[0].target))},{rootMargin:"0px 0px -"+l[e]+"px 0px"}),f[e].observe(t[e])}()}}();
!function(){var t=function(t){this.element=t,this.sections=this.element.getElementsByClassName("js-v-timeline__section"),this.animate=!(!this.element.getAttribute("data-animation")||"on"!=this.element.getAttribute("data-animation")),this.animationClass="v-timeline__section--animate",this.animationDelta="-150px",function(t){if(!t.animate)return;for(var n=0;n<t.sections.length;n++){var i=new IntersectionObserver(e.bind(t,n),{rootMargin:"0px 0px "+t.animationDelta+" 0px"});i.observe(t.sections[n])}}(this)};function e(t,e,n){e[0].isIntersecting&&(Util.addClass(this.sections[t],this.animationClass),n.unobserve(this.sections[t]))}var n=document.querySelectorAll(".js-v-timeline"),i="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,s=Util.osHasReducedMotion();if(n.length>0)for(var o=0;o<n.length;o++)i&&!s?function(e){new t(n[e])}(o):n[o].removeAttribute("data-animation")}();
!function(){var t=document.getElementsByClassName("js-dr-nav-control");t.length>0&&function(t){var e=t.getElementsByTagName("circle");e.length>0&&function(t,e){var a=(2*Math.PI*e.getAttribute("r")).toFixed(2);e.setAttribute("stroke-dashoffset",a),e.setAttribute("stroke-dasharray",a),Util.addClass(t,"dr-nav-control--ready-to-animate")}(t,e[0]);var a=t.getAttribute("aria-controls"),n=document.getElementById(a);n&&n.addEventListener("drawerIsClose",function(e){(!e.detail||e.detail&&!e.detail.closest('.js-dr-nav-control[aria-controls="'+a+'"]'))&&function(t){Util.removeClass(t,"anim-menu-btn--state-b")}(t)})}(t[0])}();