!function(){var t=function(t,i){this.element=t,this.figure=this.element.getElementsByClassName("js-parallax-img__assets")[0],this.imgs=this.element.getElementsByTagName("img"),this.maxRotation=i||2,this.maxRotation>5&&(this.maxRotation=5),this.scale=1,this.animating=!1,function(t){t.count=0,window.requestAnimationFrame(function t(){this.count>=this.imgs.length?(a=function(t){for(var i=0,a=0,n=0;n<t.imgs.length;n++){var e=t.imgs[n].getBoundingClientRect().width;(e<i||0==n)&&(i=e),(e>a||0==n)&&(a=e)}var s=Math.ceil(10*a/i)/10;s<1.1&&(s=1.1);return s}(i=this),i.scale=a/Math.sin(Math.PI/2-i.maxRotation*Math.PI/180),i.figure.style.transform="scale("+i.scale+")",Util.addClass(i.element,"parallax-img--loaded"),this.loaded&&(window.cancelAnimationFrame(this.loaded),this.loaded=!1)):this.loaded=window.requestAnimationFrame(t.bind(this));var i,a}.bind(t));for(var i=0;i<t.imgs.length;i++)!function(i){var a=!1;t.imgs[i].addEventListener("load",function(){a||(t.count=t.count+1)}),t.imgs[i].complete&&!a&&(a=!0,t.count=t.count+1)}(i)}(this),function(t){t.element.addEventListener("mousemove",function(i){t.animating||(t.animating=!0,window.requestAnimationFrame(function(t,i){var a=this.element.getBoundingClientRect(),n=this.maxRotation/a.width*2*(a.left-t.clientX+a.width/2),e=this.maxRotation/a.height*2*(t.clientY-a.top-a.height/2);n>this.maxRotation&&(n=this.maxRotation);n<-1*this.maxRotation&&(n=-this.maxRotation);e>this.maxRotation&&(e=this.maxRotation);e<-1*this.maxRotation&&(e=-this.maxRotation);this.figure.style.transform="scale("+this.scale+") rotateX("+e+"deg) rotateY("+n+"deg)",this.animating=!1}.bind(t,i)))})}(this)};window.ParallaxImg=t;var i=document.getElementsByClassName("js-parallax-img");if(i.length>0&&Util.cssSupports("transform","translateZ(0px)"))for(var a=0;a<i.length;a++)!function(a){var n=i[a].getAttribute("data-perspective");new t(i[a],n)}(a)}();